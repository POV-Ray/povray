<HTML>
<HEAD>
<TITLE>POV-Ray 3.1 Documentation - Polygon</TITLE>
</HEAD>
<BODY BGCOLOR="#FFCC66" TEXT="#000000" LINK="#0000FF" VLINK="#000080" ALINK="#FF0000">
<P ALIGN="CENTER">
Previous:<A HREF="pov254.htm">Mesh</A>&nbsp;&nbsp;
<A HREF="povuser.htm">Main Index</A>&nbsp;&nbsp;
Next:<A HREF="pov256.htm">Triangle and Smooth Triangle</A>
</P>
<HR>
<BR>
<H4><A NAME="_Toc414199090"><A NAME="_Toc429993600">Polygon</A></A></H4>
<P>The <b><code>polygon</code></b> object is useful for creating rectangles, squares and other planar shapes with more than three edges. Their syntax is:</P>
<I><DL>
<DT>POLYGON:</DT>
</I><b><code><DD>polygon {</code></b> <I>Number_Of_Points</I><b><code>,</code></b> <I>&lt;Point_1&gt; &lt;Point_2&gt;... &lt;Point_n&gt; </I> <I>[OBJECT_MODIFIER...]</I><b><code>}</DD>
</DL>
</code></b><P>The float <I>Number_Of_Points</I> tells how many points are used to define the polygon.  The points <I>&lt;Point_1&gt;</I> through <I>&lt;Point_n&gt;</I> describe the polygon or polygons.  A polygon can contain any number of sub-polygons, either overlapping or not. In places where an even number of polygons overlaps a hole appears. When you repeat the first point of a sub-polygon, it closes it and starts a new sub-polygon's point sequence. This means that all points of a sub-polygon are different.</P>
<P>If the last sub-polygon is not closed a warning is issued and the program automatically closes the polygon. This is useful because polygons imported from other programs may not be closed, i.e. their first and last point are not the same.</P>
<P>All points of a polygon are three-dimensional vectors that have to lay on the same plane. If this is not the case an error occurs. It is common to use two-dimensional vectors to describe the polygon. POV-Ray assumes that the z value is zero in this case.</P>
<P>A square polygon that matches the default planar image map is simply:</P>
<PRE>  polygon {
    4,
    &lt;0, 0&gt;, &lt;0, 1&gt;, &lt;1, 1&gt;, &lt;1, 0&gt;
    texture {
      finish { ambient 1 diffuse 0 }
      pigment { image_map { gif "test.gif"  } }
    }
    //scale and rotate as needed here
  }</PRE>
<P>The sub-polygon feature can be used to generate complex shapes like the letter "P", where a hole is cut into another polygon:</P>
<PRE>  #declare P = polygon {
    12,
    &lt;0, 0&gt;, &lt;0, 6&gt;, &lt;4, 6&gt;, &lt;4, 3&gt;, &lt;1, 3&gt;, &lt;1, 0&gt;, &lt;0, 0&gt;,
    &lt;1, 4&gt;, &lt;1, 5&gt;, &lt;3, 5&gt;, &lt;3, 4&gt;, &lt;1, 4&gt;
  }</PRE>
<P>The first sub-polygon (on the first line) describes the outer shape of the letter "P". The second sub-polygon (on the second line) describes the rectangular hole that is cut in the top of the letter "P". Both rectangles are closed, i.e. their first and last points are the same.</P>
<P>The feature of cutting holes into a polygon is based on the polygon inside/outside test used. A point is considered to be inside a polygon if a straight line drawn from this point in an arbitrary direction crosses an odd number of edges (this is known as <I>Jordan's curve theorem</I>).</P>
<P>Another very complex example showing one large triangle with three small holes and three separate, small triangles is given below:</P>
<PRE>  polygon {
    28,
    &lt;0, 0&gt; &lt;1, 0&gt; &lt;0, 1&gt; &lt;0, 0&gt;          // large outer triangle
    &lt;.3, .7&gt; &lt;.4, .7&gt; &lt;.3, .8&gt; &lt;.3, .7&gt;  // small outer triangle #1
    &lt;.5, .5&gt; &lt;.6, .5&gt; &lt;.5, .6&gt; &lt;.5, .5&gt;  // small outer triangle #2
    &lt;.7, .3&gt; &lt;.8, .3&gt; &lt;.7, .4&gt; &lt;.7, .3&gt;  // small outer triangle #3
    &lt;.5, .2&gt; &lt;.6, .2&gt; &lt;.5, .3&gt; &lt;.5, .2&gt;  // inner triangle #1
    &lt;.2, .5&gt; &lt;.3, .5&gt; &lt;.2, .6&gt; &lt;.2, .5&gt;  // inner triangle #2
    &lt;.1, .1&gt; &lt;.2, .1&gt; &lt;.1, .2&gt; &lt;.1, .1&gt;  // inner triangle #3
  }</PRE>

<BR>
<HR>
<P ALIGN="CENTER">
Previous:<A HREF="pov254.htm">Mesh</A>&nbsp;&nbsp;
<A HREF="povuser.htm">Main Index</A>&nbsp;&nbsp;
Next:<A HREF="pov256.htm">Triangle and Smooth Triangle</A>
</P>
</BODY>
</HTML>
